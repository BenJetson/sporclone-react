(this["webpackJsonpsporclone-react"]=this["webpackJsonpsporclone-react"]||[]).push([[0],{167:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),s=n(12),i=n.n(s),o=(n(167),n(24)),l=n(14),d=n(261),u=n(268),j=n(27),b=n.n(j),h=n(39),m=n(13),O=n(238),x=n(60),p=n(240),f=n(241),v=n(242),g="/sporclone-react",w=null,y=null,q=function(){return w?Promise.resolve(w):(y||(y=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(g,"/games/index.json"));case 3:return t=e.sent,e.next=6,t.json();case 6:return w=e.sent,e.abrupt("return",w);case 10:return e.prev=10,e.t0=e.catch(0),console.error("Failed to retrieve game index! Supplying empty index and will retry on next request for index."),y=null,e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()),y)},S=function(){var e=Object(r.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,q();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()})),Object(a.jsxs)(O.a,{children:[Object(a.jsx)(x.a,{variant:"h2",children:"Welcome to Sporclone!"}),Object(a.jsx)(x.a,{children:"Select a game to play from the list below."}),Object(a.jsx)(p.a,{children:n.map((function(e,t){return Object(a.jsx)(f.a,{component:o.b,button:!0,to:"/play/".concat(e.id),children:Object(a.jsx)(v.a,{primary:e.name})},t)}))})]})},C=n(246),k=n(247),T=n(248),I=n(249),N=n(251),B=n(250),G=n(273),A=n(243),E=n(245),W=n(244),F=function(e){var t=e.open,n=e.onClose,c=Object(r.useState)([]),s=Object(m.a)(c,2),i=s[0],l=s[1];return Object(r.useEffect)((function(){Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,q();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()})),Object(a.jsxs)(G.a,{open:t,onClose:n,children:[Object(a.jsx)(p.a,{children:Object(a.jsxs)(f.a,{component:o.b,button:!0,to:"/",onClick:n,children:[Object(a.jsx)(A.a,{children:Object(a.jsx)(W.a,{})}),Object(a.jsx)(v.a,{primary:"Home"})]})}),Object(a.jsx)(E.a,{}),Object(a.jsxs)(p.a,{children:[Object(a.jsx)(f.a,{dense:!0,children:Object(a.jsx)(x.a,{variant:"overline",children:"All Games"})}),i.map((function(e,t){return Object(a.jsx)(f.a,{component:o.b,button:!0,to:"/play/".concat(e.id),onClick:n,children:Object(a.jsx)(v.a,{primary:e.name})},t)}))]})]})},J=Object(C.a)((function(e){return{navbar:{marginBottom:"1.5em"}}})),Q=function(){var e=J(),t=Object(r.useState)(!1),n=Object(m.a)(t,2),c=n[0],s=n[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(F,{open:c,onClose:function(){return s(!1)}}),Object(a.jsx)(k.a,{position:"static",className:e.navbar,children:Object(a.jsxs)(T.a,{children:[Object(a.jsx)(I.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return s(!0)},children:Object(a.jsx)(B.a,{})}),Object(a.jsx)(x.a,{variant:"h6",component:"h1",children:Object(a.jsx)(N.a,{to:"/",component:o.b,color:"inherit",children:"Sporclone"})})]})})]})},D=n(154),L=n(94),M=n(252),P=Object(D.a)({palette:{primary:{main:L.a[800]},secondary:{main:M.a[800]}}}),H=n(253),U=n(254),z=function(e){var t=e.component,n=Object(l.f)().gameId,c=Object(r.useState)(null),s=Object(m.a)(c,2),i=s[0],o=s[1],d=Object(r.useState)(null),u=Object(m.a)(d,2),j=u[0],p=u[1],f=Object(r.useState)(null),v=Object(m.a)(f,2),w=v[0],y=v[1],S=Object(r.useState)(null),C=Object(m.a)(S,2),k=C[0],T=C[1];return Object(r.useEffect)((function(){Object(h.a)(b.a.mark((function e(){var t,a,r,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:t=e.sent,o(t),a=null,r=0;case 6:if(!(r<t.length)){e.next=13;break}if(t[r].id!==n){e.next=10;break}return a=r,e.abrupt("break",13);case 10:r++,e.next=6;break;case 13:if(null!==a){e.next=17;break}return y(!1),T('No game exists by the ID of "'.concat(n,'".')),e.abrupt("return");case 17:return p(a),e.prev=18,e.next=21,fetch("".concat(g,"/games/").concat(n,".json"));case 21:return c=e.sent,e.next=24,c.json();case 24:s=e.sent,y(s),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(18),y(!1),T("Could not retrieve game template from server.");case 32:case"end":return e.stop()}}),e,null,[[18,28]])})))()}),[n]),w?Object(a.jsx)(t,{gameIdx:j,allGames:i,template:w}):null===w?Object(a.jsx)(O.a,{style:{textAlign:"center",marginTop:"25vmin"},children:Object(a.jsx)(H.a,{size:"30vmin"})}):Object(a.jsxs)(O.a,{children:[Object(a.jsxs)(x.a,{variant:"h3",children:[Object(a.jsx)(U.a,{fontSize:"large"})," Error"]}),Object(a.jsx)(x.a,{children:"Sporclone could not load the game due to a problem."}),Object(a.jsx)(x.a,{children:null!==k&&void 0!==k?k:"An unknown error has occurred."})]})},K=n(76),R=n(59),V=n(150),X=n(259),Y=n(260),Z=n(269),$=n(155),_=n(255),ee=n(256),te=n(257),ne=n(258),ae=Object(C.a)((function(e){return{card:{textAlign:"center"},correct:{backgroundColor:e.palette.success.light,color:e.palette.success.contrastText},incorrect:{backgroundColor:e.palette.error.light,color:e.palette.error.contrastText},answerContainer:{paddingBottom:"16px !important"},answerText:{lineHeight:1}}})),re=function(e){var t=e.label,n=e.answer,r=e.showAnswer,c=void 0!==r&&r,s=e.markCorrect,i=void 0===s?null:s,o=ae(),l=o.card;return null!==i&&(l+=" "+(i?o.correct:o.incorrect)),Object(a.jsxs)(_.a,{variant:"outlined",className:l,children:[Object(a.jsxs)(ee.a,{children:[null!==i&&(i?Object(a.jsx)(te.a,{}):Object(a.jsx)(U.a,{})),Object(a.jsx)(x.a,{element:"p",variant:"h6",children:t})]}),Object(a.jsx)(E.a,{}),Object(a.jsx)(ee.a,{className:o.answerContainer,children:Object(a.jsx)(x.a,{variant:"body1",paragraph:!1,className:o.answerText,children:c?n:Object(a.jsx)(ne.a,{})})})]})},ce=Object(C.a)((function(e){return{unblur:{filter:"blur(0px) !important"},blur:{filter:"blur(15px)",transitionProperty:"filter",transitionDuration:"2s",transitionTimingFunction:"ease"}}})),se=function(e){var t,n=e.questions,r=e.blur,c=void 0===r||r,s=e.showKey,i=void 0!==s&&s,o=ce(),l=[],d=Object(R.a)(n);try{for(d.s();!(t=d.n()).done;){var u=t.value;l.push({label:u.label,answer:u.answer,showAnswer:i||u.isCorrect,markCorrect:i?u.isCorrect:null})}}catch(j){d.e(j)}finally{d.f()}return Object(a.jsx)(O.a,{className:"".concat(o.blur," ").concat(c?"":o.unblur),children:Object(a.jsx)(X.a,{container:!0,spacing:1,children:l.map((function(e,t){return Object(a.jsx)(X.a,{item:!0,xs:6,sm:4,md:3,lg:2,children:Object(a.jsx)(re,Object($.a)({},e))},t)}))})})},ie=Object(C.a)((function(e){return{headerImg:{maxWidth:82,maxHeight:82,border:"1px solid ".concat(e.palette.grey[500])},otherGames:{borderLeft:"1px solid ".concat(e.palette.grey[300])},timerWarning:{color:e.palette.error.main,fontWeight:"bold"},center:{textAlign:"center"}}})),oe=Object(V.a)(O.a)({margin:"1em 0"}),le=function(e){e<0&&(e=0);var t="".concat(Math.floor(e/60)),n="".concat(e%60).padStart(2,"0");return"".concat(t,":").concat(n)},de=function(e){var t=e.headline,n=e.image,r=e.questionStatus,c=e.otherGames,s=e.wasStarted,i=e.gameOver,l=e.timeLeft,d=e.score,u=e.onGuess,j=e.onButton,b=ie();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(oe,{children:Object(a.jsxs)(X.a,{container:!0,spacing:2,children:[n&&n.src&&n.alt&&Object(a.jsx)(X.a,{item:!0,xs:"auto",children:Object(a.jsx)("img",{className:b.headerImg,src:n.src,alt:n.alt})}),Object(a.jsx)(X.a,{item:!0,xs:8,children:Object(a.jsx)(x.a,{variant:"h4",component:"h1",children:t})}),Object(a.jsxs)(X.a,{item:!0,className:b.otherGames,children:[Object(a.jsx)(x.a,{variant:"h6",component:"h3",children:"Other Games"}),Object(a.jsx)(x.a,{component:"span",children:Object(a.jsx)("ul",{children:c.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(o.b,{to:e.id,children:e.name})},"other-".concat(e.id))}))})})]})]})}),Object(a.jsx)(E.a,{}),Object(a.jsx)(oe,{children:Object(a.jsxs)(X.a,{container:!0,spacing:2,alignItems:"center",justify:"center",children:[Object(a.jsx)(X.a,{item:!0,xs:4,sm:"auto",className:b.center,children:s?Object(a.jsx)(Y.a,{variant:"contained",color:"secondary",disabled:i,onClick:j,children:"Give Up"}):Object(a.jsx)(Y.a,{variant:"contained",color:"primary",onClick:j,children:"Start Game"})}),Object(a.jsx)(X.a,{item:!0,xs:8,sm:!0,children:s&&!i&&Object(a.jsx)(Z.a,{label:"Enter Guess",variant:"outlined",size:"small",color:"secondary",fullWidth:!0,onKeyUp:function(e){var t=e.target,n=t.value;u(n)&&(t.value="")},autoFocus:!0})}),Object(a.jsxs)(X.a,{item:!0,xs:6,sm:2,className:b.center,children:[Object(a.jsx)(x.a,{variant:"h6",component:"h4",children:"Score"}),Object(a.jsxs)(x.a,{children:[d,"/",r.length]})]}),Object(a.jsxs)(X.a,{item:!0,xs:6,sm:2,className:b.center,children:[Object(a.jsx)(x.a,{variant:"h6",component:"h4",children:"Time"}),Object(a.jsx)(x.a,{className:l<16?b.timerWarning:null,children:le(l)})]})]})}),Object(a.jsx)(E.a,{}),Object(a.jsx)(oe,{children:Object(a.jsx)(se,{questions:r,blur:!s,showKey:i})})]})},ue=function(e){var t,n=e.gameIdx,c=e.template,s=e.allGames,i=Object(r.useState)([]),o=Object(m.a)(i,2),l=o[0],d=o[1],u=Object(r.useState)(0),j=Object(m.a)(u,2),b=j[0],h=j[1],O=Object(r.useState)(!1),x=Object(m.a)(O,2),p=x[0],f=x[1],v=Object(r.useState)(!1),g=Object(m.a)(v,2),w=g[0],y=g[1],q=Object(r.useState)([]),S=Object(m.a)(q,2),C=S[0],k=S[1],T=Object(r.useState)(0),I=Object(m.a)(T,2),N=I[0],B=I[1];Object(r.useEffect)((function(){d(function(e){var t,n=[],a=Object(R.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;n.push({label:r.label,answer:r.answers.display,accepts:r.answers.accepts,isCorrect:!1})}}catch(c){a.e(c)}finally{a.f()}return n}(c.questions)),h(c.time),f(!1),y(!1),k(function(e,t){if(!t||!Array.isArray(t))return[];if(t.length-1<=3)return[].concat(Object(K.a)(t.slice(0,e)),Object(K.a)(t.slice(e+1)));for(var n={};Object.keys(n).length<3;){var a=Math.floor(Math.random()*t.length);a in n||a===e||(n[a]=t[a])}return Object.values(n)}(n,s)),B(0)}),[n,c,s]),Object(r.useEffect)((function(){if(p&&!w){var e=setTimeout((function(){h(b-1),b<1&&y(!0)}),1e3);return function(){clearTimeout(e)}}}),[p,w,b]);return Object(a.jsx)(de,{headline:c.headline,image:null!==(t=null===c||void 0===c?void 0:c.image)&&void 0!==t?t:null,questionStatus:l,otherGames:C,wasStarted:p,gameOver:w,timeLeft:b,score:N,onGuess:function(e){if(!p||w)return!1;var t,n=Object(R.a)(l.entries());try{for(n.s();!(t=n.n()).done;){var a=Object(m.a)(t.value,2),r=a[0],c=a[1];if(!c.isCorrect){var s,i=Object(R.a)(c.accepts);try{for(i.s();!(s=i.n()).done;){var o=s.value;if(e.toLowerCase()===o.toLowerCase()){var u=JSON.parse(JSON.stringify(l));u[r].isCorrect=!0,d(u);var j=N+1;return B(j),j===l.length&&y(!0),!0}}}catch(b){i.e(b)}finally{i.f()}}}}catch(b){n.e(b)}finally{n.f()}return!1},onButton:function(){p?w||y(!0):f(!0)}})},je=n(272),be=n(151),he=n(152),me=n.n(he),Oe=n(263),xe=n(270),pe=n(262),fe=n(153),ve=n.n(fe),ge=n(264),we=n(265),ye=n(266),qe=n(267),Se=Object(V.a)(_.a)({marginBottom:"2em"}),Ce=Object(V.a)(xe.a)({marginBottom:"1em"}),ke=function(e){var t,n,r,c,s,i,o=e.game,l=e.invalid,d=e.wasSubmitted,u=e.updateField,j=e.onSubmit,b=e.addQuestion,h=e.deleteQuestion,m=e.moveQuestion,p=function(e){return!!l[e]},f=function(e,t,n){var a=u("".concat(e,".answers.accepts"));return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=Object(K.a)(t);if("add"===n)c.push(e);else{if("delete"!==n)throw new Error("Invalid operation for accepted answer update: '".concat(n,"'."));c.splice(r,1)}a({target:{value:c}})}},v=function(){return o.image.src.length>0||o.image.alt.length>0};return Object(a.jsxs)(O.a,{children:[Object.keys(l).length>0&&Object(a.jsxs)(Ce,{severity:"error",children:[Object(a.jsx)(pe.a,{children:"Game Contains Errors"}),"The game cannot be downloaded because either required fields are blank or some field contains incorrect data.",Object(a.jsx)("br",{}),"Please review the highlighted fields and alert messages, resolve the problems, and try to download again.",Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),"This alert will disappear automatically once the errors are resolved."]})||d&&Object(a.jsxs)(Ce,{severity:"success",children:[Object(a.jsx)(pe.a,{children:"Game Ready"}),"The game contains zero errors and is ready for download."]}),Object(a.jsx)(x.a,{variant:"subtitle1",gutterBottom:!0,children:"The presence of * indicates required fields."}),Object(a.jsx)(Se,{variant:"outlined",children:Object(a.jsxs)(ee.a,{children:[Object(a.jsx)(x.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"Header"}),Object(a.jsxs)(X.a,{container:!0,spacing:2,children:[Object(a.jsx)(X.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(Z.a,{label:"Game ID",variant:"outlined",color:"secondary",fullWidth:!0,InputProps:{style:{fontFamily:"monospace"}},required:!0,helperText:null!==(t=l.id)&&void 0!==t?t:"This is a globally unique identifier for this game. It must consist of strictly lowercase alphanumeric characters and underscores.",value:o.id,onChange:u("id"),error:p("id")})}),Object(a.jsx)(X.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(Z.a,{label:"Title",variant:"outlined",color:"secondary",fullWidth:!0,required:!0,helperText:null!==(n=l.title)&&void 0!==n?n:"The shorter title of the game displayed in menus.",value:o.title,onChange:u("title"),error:p("title")})}),Object(a.jsx)(X.a,{item:!0,xs:12,children:Object(a.jsx)(Z.a,{label:"Headline",variant:"outlined",color:"secondary",fullWidth:!0,required:!0,helperText:null!==(r=l.headline)&&void 0!==r?r:"The extended description of what the player is tasked with entering.",value:o.headline,onChange:u("headline"),error:p("headline")})}),Object(a.jsx)(X.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(Z.a,{label:"Image Source",variant:"outlined",color:"secondary",fullWidth:!0,required:v(),helperText:null!==(c=l["image.src"])&&void 0!==c?c:"",value:o.image.src,onChange:u("image.src"),error:p("image.src")})}),Object(a.jsx)(X.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(Z.a,{label:"Image Alt Text",variant:"outlined",color:"secondary",fullWidth:!0,required:v(),helperText:null!==(s=l["image.alt"])&&void 0!==s?s:"",value:o.image.alt,onChange:u("image.alt"),error:p("image.alt")})})]})]})}),Object(a.jsx)(Se,{variant:"outlined",children:Object(a.jsxs)(ee.a,{children:[Object(a.jsx)(x.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"Game Settings"}),Object(a.jsx)(X.a,{container:!0,spacing:2,children:Object(a.jsx)(X.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(Z.a,{label:"Time Limit",type:"number",variant:"outlined",color:"secondary",fullWidth:!0,required:!0,helperText:null!==(i=l.time)&&void 0!==i?i:"",value:o.time,onChange:u("time"),error:p("time")})})})]})}),Object(a.jsxs)(Se,{variant:"outlined",children:[Object(a.jsxs)(ee.a,{children:[Object(a.jsx)(x.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"Questions"}),l.questions&&Object(a.jsx)(Ce,{severity:"error",style:{marginBottom:"1em"},children:l.questions}),o.questions.map((function(e,t){var n,r,c,s="questions[".concat(t,"]");return Object(a.jsxs)(_.a,{variant:"outlined",style:{marginBottom:t!==o.questions.length-1?"1em":0},children:[Object(a.jsxs)(ee.a,{children:[Object(a.jsxs)(x.a,{variant:"h6",component:"h3",gutterBottom:!0,children:["Question ",t+1]}),Object(a.jsxs)(X.a,{container:!0,spacing:2,children:[Object(a.jsx)(X.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(Z.a,{variant:"outlined",color:"secondary",label:"Displayed Question",fullWidth:!0,required:!0,helperText:null!==(n=l["".concat(s,".label")])&&void 0!==n?n:"",value:e.label,onChange:u("".concat(s,".label")),error:p("".concat(s,".label"))})}),Object(a.jsx)(X.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(Z.a,{variant:"outlined",color:"secondary",label:"Displayed Answer",fullWidth:!0,required:!0,helperText:null!==(r=l["".concat(s,".answers.display")])&&void 0!==r?r:"",value:e.answers.display,onChange:u("".concat(s,".answers.display")),error:p("".concat(s,".answers.display"))})}),Object(a.jsx)(X.a,{item:!0,xs:12,children:Object(a.jsx)(ve.a,{variant:"outlined",color:"secondary",label:"Accepted Answers",fullWidth:!0,required:!0,helperText:null!==(c=l["".concat(s,".answers.accepts")])&&void 0!==c?c:"The list of accepted answers does not include the displayed answer unless it is also included here.",value:e.answers.accepts,onAdd:f(s,e.answers.accepts,"add"),onDelete:f(s,e.answers.accepts,"delete"),error:p("".concat(s,".answers.accepts"))})})]})]}),Object(a.jsxs)(Oe.a,{disableSpacing:!0,children:[Object(a.jsx)(I.a,{"aria-label":"delete",onClick:h(t),children:Object(a.jsx)(ge.a,{})}),Object(a.jsx)(I.a,{"aria-label":"move up",onClick:m(t,"up"),disabled:0===t,children:Object(a.jsx)(we.a,{})}),Object(a.jsx)(I.a,{"aria-label":"move down",onClick:m(t,"down"),disabled:t===o.questions.length-1,children:Object(a.jsx)(ye.a,{})})]})]},e.id)}))]}),Object(a.jsx)(Oe.a,{disableSpacing:!0,children:Object(a.jsx)(I.a,{"aria-label":"add question",onClick:b,children:Object(a.jsx)(qe.a,{})})})]}),Object(a.jsx)(Y.a,{variant:"contained",color:"primary",onClick:j,children:"Download"})]})},Te=function(){return{id:Object(je.a)().toUpperCase(),label:"",answers:{display:"",accept:[]}}},Ie=function(e){var t,n=e.gameIdx,c=e.template,s=e.allGames,i=Object(r.useState)(null!==(t=function(e,t,n){var a,r;if(!t)return null;var c=null!==(a=null===n||void 0===n||null===(r=n[e])||void 0===r?void 0:r.id)&&void 0!==a?a:null;if(!c)return null;var s=JSON.parse(JSON.stringify(t));s.id=c;for(var i=0;i<s.questions.length;i++)s.questions[i].id=Object(je.a)().toUpperCase();return s}(n,c,s))&&void 0!==t?t:{id:"",time:0,title:"",headline:"",image:{src:"",alt:""},questions:[Te()]}),o=Object(m.a)(i,2),l=o[0],d=o[1],u=Object(r.useState)(!1),j=Object(m.a)(u,2),b=j[0],h=j[1],O=Object(r.useState)({}),x=Object(m.a)(O,2),p=x[0],f=x[1],v=function(){return JSON.parse(JSON.stringify(l))},g=function(e){var t=e.g,n=void 0===t?l:t,a=e.force;if(b||void 0!==a&&a){for(var r={},c=0,s=["id","title","headline"];c<s.length;c++){var i=s[c];n[i].length<1&&(r[i]="This field cannot be blank.")}if(n.image.src.length>0||n.image.alt.length>0)for(var o=0,d=["src","alt"];o<d.length;o++){var u=d[o];n.image[u].length<1&&(r["image.".concat(u)]="If one image field has a value, both must be filled.")}n.time<15&&(r.time="Time cannot be less than fifteen seconds."),n.questions.length<3&&(r.questions="Must have a minumum of three questions.");for(var j=0;j<n.questions.length;j++){var h="questions[".concat(j,"]");n.questions[j].label.length<1&&(r["".concat(h,".label")]="This field cannot be blank."),n.questions[j].answers.display.length<1&&(r["".concat(h,".answers.display")]="This field cannot be blank."),n.questions[j].answers.accepts.length<1&&(r["".concat(h,".answers.accepts")]="Must have at least one accepted answer.")}return f(r),0===Object.keys(r).length}};return Object(a.jsx)(ke,{game:l,invalid:p,wasSubmitted:b,updateField:function(e){return function(t){var n,a,r=null!==(n=null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value)&&void 0!==n?n:null;if(null===r)throw new Error("Received null value for update of '".concat(e,"'."));var c=v();if(["id","title","headline","time"].includes(e))"time"===e&&(r=""!==r?parseInt(r):0),c[e]=r;else if(e.includes("image")){if(e=e.substring(e.lastIndexOf(".")+1),!["src","alt"].includes(e))throw new Error("Bad image field '".concat(e,"' for attempted update."));c.image[e]=r}else{if(!e.includes("questions"))throw new Error("Bad field name '".concat(e,"' for attempted update."));var s=parseInt(e.substring(e.lastIndexOf("[")+1,e.lastIndexOf("]")));if(e=e.substring(e.lastIndexOf("]")+2),console.log(e,!e.includes(".")),e.includes("."))if("answers.display"===e)c.questions[s].answers.display=r;else{if("answers.accepts"!==e)throw new Error("Bad question field '".concat(e,"' for attempted update."));c.questions[s].answers.accepts=r}else c.questions[s][e]=r}console.log(l,c),d(c),g({g:c})}},onSubmit:function(){if(h(!0),g({force:!0})){var e=v();delete e.id;for(var t=0;t<e.questions.length;t++)delete e.questions[t].id;e.image.src.length<1&&delete e.image;var n=Object(be.format)(JSON.stringify(e),{parser:"json",plugins:[me.a]}),a=document.createElement("a");a.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(n)),a.setAttribute("download","".concat(l.id,".json")),document.body.appendChild(a),a.click(),document.body.removeChild(a)}else window.scrollTo(0,0)},addQuestion:function(){var e=v();e.questions.push(Te()),d(e),g({g:e})},deleteQuestion:function(e){return function(){var t=v();t.questions.splice(e,1),d(t),g({g:t})}},moveQuestion:function(e,t){return function(){var n;switch(t){case"up":n=e-1;break;case"down":n=e+1;break;default:throw new Error("Invlid direction to move question: '".concat(t,"'"))}var a=v(),r=a.questions[n];a.questions[n]=a.questions[e],a.questions[e]=r,d(a),g({g:a})}}})},Ne=function(){return Object(a.jsx)(d.a,{theme:P,children:Object(a.jsxs)(o.a,{children:[Object(a.jsx)(Q,{}),Object(a.jsx)(u.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/play/:gameId",children:Object(a.jsx)(z,{component:ue})}),Object(a.jsx)(l.a,{path:"/create",children:Object(a.jsx)(Ie,{})}),Object(a.jsx)(l.a,{path:"/edit/:gameId",children:Object(a.jsx)(z,{component:Ie})}),Object(a.jsx)(l.a,{path:"/",children:Object(a.jsx)(S,{})},"home")]})})]})})},Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,275)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(Ne,{})}),document.getElementById("root")),Be()}},[[211,1,2]]]);
//# sourceMappingURL=main.f9b9fa55.chunk.js.map