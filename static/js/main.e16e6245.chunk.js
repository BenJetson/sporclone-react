(this["webpackJsonpsporclone-react"]=this["webpackJsonpsporclone-react"]||[]).push([[0],{167:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),s=n(12),i=n.n(s),l=(n(167),n(22)),o=n(14),d=n(264),u=n(270),j=n(27),b=n.n(j),h=n(39),m=n(13),O=n(238),x=n(61),p=n(240),f=n(241),v=n(242),g=n(244),w=n(243),y=n(245),q="/sporclone-react",S=null,C=null,k=function(){return S?Promise.resolve(S):(C||(C=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(q,"/games/index.json"));case 3:return t=e.sent,e.next=6,t.json();case 6:return S=e.sent,e.abrupt("return",S);case 10:return e.prev=10,e.t0=e.catch(0),console.error("Failed to retrieve game index! Supplying empty index and will retry on next request for index."),C=null,e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()),C)},T=function(){var e=Object(r.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,k();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()})),Object(a.jsxs)(O.a,{children:[Object(a.jsx)(x.a,{variant:"h2",children:"Welcome to Sporclone!"}),Object(a.jsx)(x.a,{children:"Select a game to play from the list below."}),Object(a.jsx)(p.a,{children:n.map((function(e,t){return Object(a.jsxs)(f.a,{component:l.b,button:!0,to:"/play/".concat(e.id),children:[Object(a.jsx)(v.a,{children:Object(a.jsx)(w.a,{})}),Object(a.jsx)(g.a,{primary:e.name})]},t)}))}),Object(a.jsx)(x.a,{children:"Or, alternatively:"}),Object(a.jsx)(p.a,{children:Object(a.jsxs)(f.a,{component:l.b,button:!0,to:"/create",children:[Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{})}),Object(a.jsx)(g.a,{primary:"Create a new game"})]})})]})},I=n(248),G=n(249),N=n(250),B=n(251),E=n(253),A=n(252),W=n(275),F=n(247),J=n(246),Q=function(e){var t=e.open,n=e.onClose,c=Object(r.useState)([]),s=Object(m.a)(c,2),i=s[0],o=s[1];return Object(r.useEffect)((function(){Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,k();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()})),Object(a.jsxs)(W.a,{open:t,onClose:n,children:[Object(a.jsx)(p.a,{children:Object(a.jsxs)(f.a,{component:l.b,button:!0,to:"/",onClick:n,children:[Object(a.jsx)(v.a,{children:Object(a.jsx)(J.a,{})}),Object(a.jsx)(g.a,{primary:"Home"})]})}),Object(a.jsx)(F.a,{}),Object(a.jsxs)(p.a,{children:[Object(a.jsx)(f.a,{dense:!0,children:Object(a.jsx)(x.a,{variant:"overline",children:"All Games"})}),i.map((function(e,t){return Object(a.jsx)(f.a,{component:l.b,button:!0,to:"/play/".concat(e.id),onClick:n,children:Object(a.jsx)(g.a,{primary:e.name})},t)}))]})]})},D=Object(I.a)((function(e){return{navbar:{marginBottom:"1.5em"}}})),L=function(){var e=D(),t=Object(r.useState)(!1),n=Object(m.a)(t,2),c=n[0],s=n[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Q,{open:c,onClose:function(){return s(!1)}}),Object(a.jsx)(G.a,{position:"static",className:e.navbar,children:Object(a.jsxs)(N.a,{children:[Object(a.jsx)(B.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return s(!0)},children:Object(a.jsx)(A.a,{})}),Object(a.jsx)(x.a,{variant:"h6",component:"h1",children:Object(a.jsx)(E.a,{to:"/",component:l.b,color:"inherit",children:"Sporclone"})})]})})]})},M=n(154),P=n(94),H=n(254),U=Object(M.a)({palette:{primary:{main:P.a[800]},secondary:{main:H.a[800]}}}),z=n(255),K=n(256),R=function(e){var t=e.component,n=Object(o.f)().gameId,c=Object(r.useState)(null),s=Object(m.a)(c,2),i=s[0],l=s[1],d=Object(r.useState)(null),u=Object(m.a)(d,2),j=u[0],p=u[1],f=Object(r.useState)(null),v=Object(m.a)(f,2),g=v[0],w=v[1],y=Object(r.useState)(null),S=Object(m.a)(y,2),C=S[0],T=S[1];return Object(r.useEffect)((function(){Object(h.a)(b.a.mark((function e(){var t,a,r,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:t=e.sent,l(t),a=null,r=0;case 6:if(!(r<t.length)){e.next=13;break}if(t[r].id!==n){e.next=10;break}return a=r,e.abrupt("break",13);case 10:r++,e.next=6;break;case 13:if(null!==a){e.next=17;break}return w(!1),T('No game exists by the ID of "'.concat(n,'".')),e.abrupt("return");case 17:return p(a),e.prev=18,e.next=21,fetch("".concat(q,"/games/").concat(n,".json"));case 21:return c=e.sent,e.next=24,c.json();case 24:s=e.sent,w(s),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(18),w(!1),T("Could not retrieve game template from server.");case 32:case"end":return e.stop()}}),e,null,[[18,28]])})))()}),[n]),g?Object(a.jsx)(t,{gameId:n,gameIdx:j,allGames:i,template:g}):null===g?Object(a.jsx)(O.a,{style:{textAlign:"center",marginTop:"25vmin"},children:Object(a.jsx)(z.a,{size:"30vmin"})}):Object(a.jsxs)(O.a,{children:[Object(a.jsxs)(x.a,{variant:"h3",children:[Object(a.jsx)(K.a,{fontSize:"large"})," Error"]}),Object(a.jsx)(x.a,{children:"Sporclone could not load the game due to a problem."}),Object(a.jsx)(x.a,{children:null!==C&&void 0!==C?C:"An unknown error has occurred."})]})},V=n(77),X=n(60),Y=n(150),Z=n(261),$=n(262),_=n(271),ee=n(155),te=n(257),ne=n(258),ae=n(259),re=n(260),ce=Object(I.a)((function(e){return{card:{textAlign:"center"},correct:{backgroundColor:e.palette.success.light,color:e.palette.success.contrastText},incorrect:{backgroundColor:e.palette.error.light,color:e.palette.error.contrastText},answerContainer:{paddingBottom:"16px !important"},answerText:{lineHeight:1}}})),se=function(e){var t=e.label,n=e.answer,r=e.showAnswer,c=void 0!==r&&r,s=e.markCorrect,i=void 0===s?null:s,l=ce(),o=l.card;return null!==i&&(o+=" "+(i?l.correct:l.incorrect)),Object(a.jsxs)(te.a,{variant:"outlined",className:o,children:[Object(a.jsxs)(ne.a,{children:[null!==i&&(i?Object(a.jsx)(ae.a,{}):Object(a.jsx)(K.a,{})),Object(a.jsx)(x.a,{element:"p",variant:"h6",children:t})]}),Object(a.jsx)(F.a,{}),Object(a.jsx)(ne.a,{className:l.answerContainer,children:Object(a.jsx)(x.a,{variant:"body1",paragraph:!1,className:l.answerText,children:c?n:Object(a.jsx)(re.a,{})})})]})},ie=Object(I.a)((function(e){return{unblur:{filter:"blur(0px) !important"},blur:{filter:"blur(15px)",transitionProperty:"filter",transitionDuration:"2s",transitionTimingFunction:"ease"}}})),le=function(e){var t,n=e.questions,r=e.blur,c=void 0===r||r,s=e.showKey,i=void 0!==s&&s,l=ie(),o=[],d=Object(X.a)(n);try{for(d.s();!(t=d.n()).done;){var u=t.value;o.push({label:u.label,answer:u.answer,showAnswer:i||u.isCorrect,markCorrect:i?u.isCorrect:null})}}catch(j){d.e(j)}finally{d.f()}return Object(a.jsx)(O.a,{className:"".concat(l.blur," ").concat(c?"":l.unblur),children:Object(a.jsx)(Z.a,{container:!0,spacing:1,children:o.map((function(e,t){return Object(a.jsx)(Z.a,{item:!0,xs:6,sm:4,md:3,lg:2,children:Object(a.jsx)(se,Object(ee.a)({},e))},t)}))})})},oe=n(263),de=Object(I.a)((function(e){return{headerImg:{maxWidth:82,maxHeight:82,border:"1px solid ".concat(e.palette.grey[500])},otherGames:{borderLeft:"1px solid ".concat(e.palette.grey[300])},timerWarning:{color:e.palette.error.main,fontWeight:"bold"},center:{textAlign:"center"}}})),ue=Object(Y.a)(O.a)({margin:"1em 0"}),je=function(e){e<0&&(e=0);var t="".concat(Math.floor(e/60)),n="".concat(e%60).padStart(2,"0");return"".concat(t,":").concat(n)},be=function(e){var t=e.gameId,n=e.headline,r=e.image,c=e.questionStatus,s=e.otherGames,i=e.wasStarted,o=e.gameOver,d=e.timeLeft,u=e.score,j=e.onGuess,b=e.onButton,h=de();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ue,{children:Object(a.jsxs)(Z.a,{container:!0,spacing:2,children:[r&&r.src&&r.alt&&Object(a.jsx)(Z.a,{item:!0,xs:"auto",children:Object(a.jsx)("img",{className:h.headerImg,src:r.src,alt:r.alt})}),Object(a.jsx)(Z.a,{item:!0,xs:8,children:Object(a.jsx)(x.a,{variant:"h4",component:"h1",children:n})}),Object(a.jsxs)(Z.a,{item:!0,className:h.otherGames,children:[Object(a.jsx)(x.a,{variant:"h6",component:"h3",children:"Other Games"}),Object(a.jsx)(x.a,{component:"span",children:Object(a.jsx)("ul",{children:s.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:e.id,children:e.name})},"other-".concat(e.id))}))})})]})]})}),Object(a.jsx)(F.a,{}),Object(a.jsx)(ue,{children:Object(a.jsxs)(Z.a,{container:!0,spacing:2,alignItems:"center",justify:"center",children:[Object(a.jsx)(Z.a,{item:!0,xs:4,sm:"auto",className:h.center,children:i?Object(a.jsx)($.a,{variant:"contained",color:"secondary",disabled:o,onClick:b,children:"Give Up"}):Object(a.jsx)($.a,{variant:"contained",color:"primary",onClick:b,children:"Start Game"})}),Object(a.jsx)(Z.a,{item:!0,xs:8,sm:!0,children:i&&!o&&Object(a.jsx)(_.a,{label:"Enter Guess",variant:"outlined",size:"small",color:"secondary",fullWidth:!0,onKeyUp:function(e){var t=e.target,n=t.value;j(n)&&(t.value="")},autoFocus:!0})}),Object(a.jsxs)(Z.a,{item:!0,xs:6,sm:2,className:h.center,children:[Object(a.jsx)(x.a,{variant:"h6",component:"h4",children:"Score"}),Object(a.jsxs)(x.a,{children:[u,"/",c.length]})]}),Object(a.jsxs)(Z.a,{item:!0,xs:6,sm:2,className:h.center,children:[Object(a.jsx)(x.a,{variant:"h6",component:"h4",children:"Time"}),Object(a.jsx)(x.a,{className:d<16?h.timerWarning:null,children:je(d)})]})]})}),Object(a.jsx)(F.a,{}),Object(a.jsx)(ue,{children:Object(a.jsx)(le,{questions:c,blur:!i,showKey:o})}),Object(a.jsx)(ue,{children:Object(a.jsx)($.a,{component:l.b,to:"/edit/".concat(t),startIcon:Object(a.jsx)(oe.a,{}),children:"Edit this Game"})})]})},he=function(e){var t,n=e.gameId,c=e.gameIdx,s=e.template,i=e.allGames,l=Object(r.useState)([]),o=Object(m.a)(l,2),d=o[0],u=o[1],j=Object(r.useState)(0),b=Object(m.a)(j,2),h=b[0],O=b[1],x=Object(r.useState)(!1),p=Object(m.a)(x,2),f=p[0],v=p[1],g=Object(r.useState)(!1),w=Object(m.a)(g,2),y=w[0],q=w[1],S=Object(r.useState)([]),C=Object(m.a)(S,2),k=C[0],T=C[1],I=Object(r.useState)(0),G=Object(m.a)(I,2),N=G[0],B=G[1];Object(r.useEffect)((function(){u(function(e){var t,n=[],a=Object(X.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;n.push({label:r.label,answer:r.answers.display,accepts:r.answers.accepts,isCorrect:!1})}}catch(c){a.e(c)}finally{a.f()}return n}(s.questions)),O(s.time),v(!1),q(!1),T(function(e,t){if(!t||!Array.isArray(t))return[];if(t.length-1<=3)return[].concat(Object(V.a)(t.slice(0,e)),Object(V.a)(t.slice(e+1)));for(var n={};Object.keys(n).length<3;){var a=Math.floor(Math.random()*t.length);a in n||a===e||(n[a]=t[a])}return Object.values(n)}(c,i)),B(0)}),[c,s,i]),Object(r.useEffect)((function(){if(f&&!y){var e=setTimeout((function(){O(h-1),h<1&&q(!0)}),1e3);return function(){clearTimeout(e)}}}),[f,y,h]);return Object(a.jsx)(be,{gameId:n,headline:s.headline,image:null!==(t=null===s||void 0===s?void 0:s.image)&&void 0!==t?t:null,questionStatus:d,otherGames:k,wasStarted:f,gameOver:y,timeLeft:h,score:N,onGuess:function(e){if(!f||y)return!1;var t,n=Object(X.a)(d.entries());try{for(n.s();!(t=n.n()).done;){var a=Object(m.a)(t.value,2),r=a[0],c=a[1];if(!c.isCorrect){var s,i=Object(X.a)(c.accepts);try{for(i.s();!(s=i.n()).done;){var l=s.value;if(e.toLowerCase()===l.toLowerCase()){var o=JSON.parse(JSON.stringify(d));o[r].isCorrect=!0,u(o);var j=N+1;return B(j),j===d.length&&q(!0),!0}}}catch(b){i.e(b)}finally{i.f()}}}}catch(b){n.e(b)}finally{n.f()}return!1},onButton:function(){f?y||q(!0):v(!0)}})},me=n(274),Oe=n(151),xe=n(152),pe=n.n(xe),fe=n(266),ve=n(272),ge=n(265),we=n(153),ye=n.n(we),qe=n(267),Se=n(268),Ce=n(269),ke=Object(Y.a)(te.a)({marginBottom:"2em"}),Te=Object(Y.a)(ve.a)({marginBottom:"1em"}),Ie=function(e){var t,n,r,c,s,i,l=e.game,o=e.invalid,d=e.wasSubmitted,u=e.updateField,j=e.onSubmit,b=e.addQuestion,h=e.deleteQuestion,m=e.moveQuestion,p=function(e){return!!o[e]},f=function(e,t,n){var a=u("".concat(e,".answers.accepts"));return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=Object(V.a)(t);if("add"===n)c.push(e);else{if("delete"!==n)throw new Error("Invalid operation for accepted answer update: '".concat(n,"'."));c.splice(r,1)}a({target:{value:c}})}},v=function(){return l.image.src.length>0||l.image.alt.length>0};return Object(a.jsxs)(O.a,{children:[Object.keys(o).length>0&&Object(a.jsxs)(Te,{severity:"error",children:[Object(a.jsx)(ge.a,{children:"Game Contains Errors"}),"The game cannot be downloaded because either required fields are blank or some field contains incorrect data.",Object(a.jsx)("br",{}),"Please review the highlighted fields and alert messages, resolve the problems, and try to download again.",Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),"This alert will disappear automatically once the errors are resolved."]})||d&&Object(a.jsxs)(Te,{severity:"success",children:[Object(a.jsx)(ge.a,{children:"Game Ready"}),"The game contains zero errors and is ready for download."]}),Object(a.jsx)(x.a,{variant:"subtitle1",gutterBottom:!0,children:"The presence of * indicates required fields."}),Object(a.jsx)(ke,{variant:"outlined",children:Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(x.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"Header"}),Object(a.jsxs)(Z.a,{container:!0,spacing:2,children:[Object(a.jsx)(Z.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(_.a,{label:"Game ID",variant:"outlined",color:"secondary",fullWidth:!0,InputProps:{style:{fontFamily:"monospace"}},required:!0,helperText:null!==(t=o.id)&&void 0!==t?t:"This is a globally unique identifier for this game. It must consist of strictly lowercase alphanumeric characters and underscores.",value:l.id,onChange:u("id"),error:p("id")})}),Object(a.jsx)(Z.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(_.a,{label:"Title",variant:"outlined",color:"secondary",fullWidth:!0,required:!0,helperText:null!==(n=o.title)&&void 0!==n?n:"The shorter title of the game displayed in menus.",value:l.title,onChange:u("title"),error:p("title")})}),Object(a.jsx)(Z.a,{item:!0,xs:12,children:Object(a.jsx)(_.a,{label:"Headline",variant:"outlined",color:"secondary",fullWidth:!0,required:!0,helperText:null!==(r=o.headline)&&void 0!==r?r:"The extended description of what the player is tasked with entering.",value:l.headline,onChange:u("headline"),error:p("headline")})}),Object(a.jsx)(Z.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(_.a,{label:"Image Source",variant:"outlined",color:"secondary",fullWidth:!0,required:v(),helperText:null!==(c=o["image.src"])&&void 0!==c?c:"",value:l.image.src,onChange:u("image.src"),error:p("image.src")})}),Object(a.jsx)(Z.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(_.a,{label:"Image Alt Text",variant:"outlined",color:"secondary",fullWidth:!0,required:v(),helperText:null!==(s=o["image.alt"])&&void 0!==s?s:"",value:l.image.alt,onChange:u("image.alt"),error:p("image.alt")})})]})]})}),Object(a.jsx)(ke,{variant:"outlined",children:Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(x.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"Game Settings"}),Object(a.jsx)(Z.a,{container:!0,spacing:2,children:Object(a.jsx)(Z.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(_.a,{label:"Time Limit",type:"number",variant:"outlined",color:"secondary",fullWidth:!0,required:!0,helperText:null!==(i=o.time)&&void 0!==i?i:"",value:l.time,onChange:u("time"),error:p("time")})})})]})}),Object(a.jsxs)(ke,{variant:"outlined",children:[Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(x.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"Questions"}),o.questions&&Object(a.jsx)(Te,{severity:"error",style:{marginBottom:"1em"},children:o.questions}),l.questions.map((function(e,t){var n,r,c,s="questions[".concat(t,"]");return Object(a.jsxs)(te.a,{variant:"outlined",style:{marginBottom:t!==l.questions.length-1?"1em":0},children:[Object(a.jsxs)(ne.a,{children:[Object(a.jsxs)(x.a,{variant:"h6",component:"h3",gutterBottom:!0,children:["Question ",t+1]}),Object(a.jsxs)(Z.a,{container:!0,spacing:2,children:[Object(a.jsx)(Z.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(_.a,{variant:"outlined",color:"secondary",label:"Displayed Question",fullWidth:!0,required:!0,helperText:null!==(n=o["".concat(s,".label")])&&void 0!==n?n:"",value:e.label,onChange:u("".concat(s,".label")),error:p("".concat(s,".label"))})}),Object(a.jsx)(Z.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(_.a,{variant:"outlined",color:"secondary",label:"Displayed Answer",fullWidth:!0,required:!0,helperText:null!==(r=o["".concat(s,".answers.display")])&&void 0!==r?r:"",value:e.answers.display,onChange:u("".concat(s,".answers.display")),error:p("".concat(s,".answers.display"))})}),Object(a.jsx)(Z.a,{item:!0,xs:12,children:Object(a.jsx)(ye.a,{variant:"outlined",color:"secondary",label:"Accepted Answers",fullWidth:!0,required:!0,helperText:null!==(c=o["".concat(s,".answers.accepts")])&&void 0!==c?c:"The list of accepted answers does not include the displayed answer unless it is also included here.",value:e.answers.accepts,onAdd:f(s,e.answers.accepts,"add"),onDelete:f(s,e.answers.accepts,"delete"),error:p("".concat(s,".answers.accepts"))})})]})]}),Object(a.jsxs)(fe.a,{disableSpacing:!0,children:[Object(a.jsx)(B.a,{"aria-label":"delete",onClick:h(t),children:Object(a.jsx)(qe.a,{})}),Object(a.jsx)(B.a,{"aria-label":"move up",onClick:m(t,"up"),disabled:0===t,children:Object(a.jsx)(Se.a,{})}),Object(a.jsx)(B.a,{"aria-label":"move down",onClick:m(t,"down"),disabled:t===l.questions.length-1,children:Object(a.jsx)(Ce.a,{})})]})]},e.id)}))]}),Object(a.jsx)(fe.a,{disableSpacing:!0,children:Object(a.jsx)(B.a,{"aria-label":"add question",onClick:b,children:Object(a.jsx)(y.a,{})})})]}),Object(a.jsx)($.a,{variant:"contained",color:"primary",onClick:j,children:"Download"})]})},Ge=function(){return{id:Object(me.a)().toUpperCase(),label:"",answers:{display:"",accept:[]}}},Ne=function(e){var t,n=e.gameIdx,c=e.template,s=e.allGames,i=Object(r.useState)(null!==(t=function(e,t,n){var a,r;if(!t)return null;var c=null!==(a=null===n||void 0===n||null===(r=n[e])||void 0===r?void 0:r.id)&&void 0!==a?a:null;if(!c)return null;var s=JSON.parse(JSON.stringify(t));s.id=c;for(var i=0;i<s.questions.length;i++)s.questions[i].id=Object(me.a)().toUpperCase();return s}(n,c,s))&&void 0!==t?t:{id:"",time:0,title:"",headline:"",image:{src:"",alt:""},questions:[Ge()]}),l=Object(m.a)(i,2),o=l[0],d=l[1],u=Object(r.useState)(!1),j=Object(m.a)(u,2),b=j[0],h=j[1],O=Object(r.useState)({}),x=Object(m.a)(O,2),p=x[0],f=x[1],v=function(){return JSON.parse(JSON.stringify(o))},g=function(e){var t=e.g,n=void 0===t?o:t,a=e.force;if(b||void 0!==a&&a){for(var r={},c=0,s=["id","title","headline"];c<s.length;c++){var i=s[c];n[i].length<1&&(r[i]="This field cannot be blank.")}if(n.image.src.length>0||n.image.alt.length>0)for(var l=0,d=["src","alt"];l<d.length;l++){var u=d[l];n.image[u].length<1&&(r["image.".concat(u)]="If one image field has a value, both must be filled.")}n.time<15&&(r.time="Time cannot be less than fifteen seconds."),n.questions.length<3&&(r.questions="Must have a minumum of three questions.");for(var j=0;j<n.questions.length;j++){var h="questions[".concat(j,"]");n.questions[j].label.length<1&&(r["".concat(h,".label")]="This field cannot be blank."),n.questions[j].answers.display.length<1&&(r["".concat(h,".answers.display")]="This field cannot be blank."),n.questions[j].answers.accepts.length<1&&(r["".concat(h,".answers.accepts")]="Must have at least one accepted answer.")}return f(r),0===Object.keys(r).length}};return Object(a.jsx)(Ie,{game:o,invalid:p,wasSubmitted:b,updateField:function(e){return function(t){var n,a,r=null!==(n=null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value)&&void 0!==n?n:null;if(null===r)throw new Error("Received null value for update of '".concat(e,"'."));var c=v();if(["id","title","headline","time"].includes(e))"time"===e&&(r=""!==r?parseInt(r):0),c[e]=r;else if(e.includes("image")){if(e=e.substring(e.lastIndexOf(".")+1),!["src","alt"].includes(e))throw new Error("Bad image field '".concat(e,"' for attempted update."));c.image[e]=r}else{if(!e.includes("questions"))throw new Error("Bad field name '".concat(e,"' for attempted update."));var s=parseInt(e.substring(e.lastIndexOf("[")+1,e.lastIndexOf("]")));if((e=e.substring(e.lastIndexOf("]")+2)).includes("."))if("answers.display"===e)c.questions[s].answers.display=r;else{if("answers.accepts"!==e)throw new Error("Bad question field '".concat(e,"' for attempted update."));c.questions[s].answers.accepts=r}else c.questions[s][e]=r}d(c),g({g:c})}},onSubmit:function(){if(h(!0),g({force:!0})){var e=v();delete e.id;for(var t=0;t<e.questions.length;t++)delete e.questions[t].id;e.image.src.length<1&&delete e.image;var n=Object(Oe.format)(JSON.stringify(e),{parser:"json",plugins:[pe.a]}),a=document.createElement("a");a.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(n)),a.setAttribute("download","".concat(o.id,".json")),document.body.appendChild(a),a.click(),document.body.removeChild(a)}else window.scrollTo(0,0)},addQuestion:function(){var e=v();e.questions.push(Ge()),d(e),g({g:e})},deleteQuestion:function(e){return function(){var t=v();t.questions.splice(e,1),d(t),g({g:t})}},moveQuestion:function(e,t){return function(){var n;switch(t){case"up":n=e-1;break;case"down":n=e+1;break;default:throw new Error("Invlid direction to move question: '".concat(t,"'"))}var a=v(),r=a.questions[n];a.questions[n]=a.questions[e],a.questions[e]=r,d(a),g({g:a})}}})},Be=function(){return Object(a.jsx)(d.a,{theme:U,children:Object(a.jsxs)(l.a,{children:[Object(a.jsx)(L,{}),Object(a.jsx)(u.a,{children:Object(a.jsxs)(o.c,{children:[Object(a.jsx)(o.a,{path:"/play/:gameId",children:Object(a.jsx)(R,{component:he})}),Object(a.jsx)(o.a,{path:"/create",children:Object(a.jsx)(Ne,{})}),Object(a.jsx)(o.a,{path:"/edit/:gameId",children:Object(a.jsx)(R,{component:Ne})}),Object(a.jsx)(o.a,{path:"/",children:Object(a.jsx)(T,{})},"home")]})})]})})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,277)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(Be,{})}),document.getElementById("root")),Ee()}},[[211,1,2]]]);
//# sourceMappingURL=main.e16e6245.chunk.js.map